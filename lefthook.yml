# Lefthook configuration for pre-commit hooks
# Install with: pnpm lefthook install

pre-commit:
  parallel: true
  commands:
    biome-check:
      run: pnpm exec biome check --write --no-errors-on-unmatched {staged_files}
      stage_fixed: true
      glob: "*.{ts,tsx,js,jsx,json,md}"
      exclude: |
        (?x)^(
          .*\.lock$|
          .*\.log$|
          .*node_modules.*|
          .*dist.*|
          .*build.*|
          .*\.next.*|
          .*\.expo.*|
          .*\.turbo.*|
          .*migrations.*|
          .*meta.*|
          .*next-env\.d\.ts$
        )

pre-push:
  parallel: true
  commands:
    lint:
      run: pnpm -w lint
    format-check:
      run: pnpm -w format:check
    check-fix:
      run: pnpm -w check:fix
    typecheck:
      run: pnpm -w typecheck
    build:
      run: pnpm -w build

